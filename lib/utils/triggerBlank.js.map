{"version":3,"sources":["../../dev/mtui/utils/triggerBlank.jsx"],"names":["getXY","dom","clickBlank","callback","events","_btn","onlybtn","handler","e","modal","scrollTop","document","documentElement","body","y","clientY","btnJudge","btn","clientX","left","width","top","height","removeEventListener","addEventListener","offClickBlank"],"mappings":";;;;;;;AAIA;;AAEA,SAASA,KAAT,CAAeC,GAAf,EAAmB;AACf,WAAO,sBAASA,GAAT,CAAP;AACH;;AAED;AAVA;;;;AAWA,SAASC,UAAT,CAAoBD,GAApB,EAAyBE,QAAzB,EAAmCC,MAAnC,EAA2CC,IAA3C,EAAiDC,OAAjD,EAAyD;;AAErDF,aAASA,UAAU,OAAnB;;AAEA;AACA,QAAIG,WAAU,iBAASC,CAAT,EAAW;AACrB,YAAIC,QAAQT,MAAMC,GAAN,CAAZ;AACA,YAAIS,YAAYC,SAASC,eAAT,CAAyBF,SAAzB,IAAsCC,SAASE,IAAT,CAAcH,SAApE;AACA,YAAII,IAAIN,EAAEO,OAAF,GAAYL,SAAZ,IAAyB,CAAjC;;AAEA,YAAIM,WAAW,KAAf;AACA;AACA,YAAGX,QAAQD,WAAW,WAAtB,EAAkC;AAC9B,gBAAIa,MAAM,IAAV;AACAA,kBAAMjB,MAAMK,IAAN,CAAN;AACA,gBAAGG,EAAEU,OAAF,IAAaD,IAAIE,IAAjB,IAAyBX,EAAEU,OAAF,IAAaD,IAAIE,IAAJ,GAAWF,IAAIG,KAArD,IAA8DN,KAAKG,IAAII,GAAvE,IAA8EP,KAAKG,IAAII,GAAJ,GAAUJ,IAAIK,MAApG,EAA2G;AACvGN,2BAAW,IAAX;AACH;AACJ;;AAED;AACA,YAAG,CAACV,OAAD,IAAaE,EAAEU,OAAF,IAAaT,MAAMU,IAAnB,IAA2BX,EAAEU,OAAF,IAAaT,MAAMU,IAAN,GAAaV,MAAMW,KAA3D,IAAoEN,KAAKL,MAAMY,GAA/E,IAAsFP,KAAKL,MAAMY,GAAN,GAAYZ,MAAMa,MAA1H,IAAqIN,QAAxI,EAAiJ;AAC7Ib,qBAAS,IAAT;AACH,SAFD,MAEK;AACDA,qBAAS,KAAT;AACA,gBAAGE,QAAQD,WAAW,WAAtB,EAAkC;AAC9BO,yBAASY,mBAAT,CAA6BnB,MAA7B,EAAqCG,QAArC;AACAA,2BAAU,IAAV;AACH;AACJ;AACJ,KAzBD;AA0BAI,aAASa,gBAAT,CAA0BpB,MAA1B,EAAkCG,QAAlC;;AAEA,WAAOA,QAAP;AACH;;AAED,SAASkB,aAAT,CAAuBlB,OAAvB,EAAgCH,MAAhC,EAAuC;AACnC,QAAI,CAACG,OAAL,EAAc;AACV;AACH;AACDH,aAASA,UAAU,OAAnB;AACAO,aAASY,mBAAT,CAA6BnB,MAA7B,EAAqCG,OAArC;AACAA,cAAU,IAAV;AACH;;QAEQP,K,GAAAA,K;QAAOE,U,GAAAA,U;QAAYuB,a,GAAAA,a;;;;;;;;kCAlDnBzB,K;;kCAKAE,U;;kCAoCAuB,a","file":"triggerBlank.js","sourcesContent":["/**\r\n* @type class操作\r\n* @author : Mantou\r\n*/\r\nimport { position } from './offset';\r\n\r\nfunction getXY(dom){\r\n    return position(dom);\r\n}\r\n\r\n// 如果点击了空白区域就是false\r\nfunction clickBlank(dom, callback, events, _btn, onlybtn){\r\n\r\n    events = events || 'click';\r\n\r\n    // 点击事件\r\n    var handler = function(e){\r\n        let modal = getXY(dom);\r\n        let scrollTop = document.documentElement.scrollTop || document.body.scrollTop;\r\n        let y = e.clientY + scrollTop || 0;\r\n\r\n        let btnJudge = false;\r\n        // 如果是hover\r\n        if(_btn && events === 'mousemove'){\r\n            let btn = null;\r\n            btn = getXY(_btn);\r\n            if(e.clientX >= btn.left && e.clientX <= btn.left + btn.width && y >= btn.top && y <= btn.top + btn.height){\r\n                btnJudge = true;\r\n            }\r\n        }\r\n\r\n        // 判断点击的边界\r\n        if(!onlybtn && (e.clientX >= modal.left && e.clientX <= modal.left + modal.width && y >= modal.top && y <= modal.top + modal.height) || btnJudge){\r\n            callback(true);\r\n        }else{\r\n            callback(false);\r\n            if(_btn && events !== 'mousemove'){\r\n                document.removeEventListener(events, handler);\r\n                handler = null;\r\n            }\r\n        }\r\n    };\r\n    document.addEventListener(events, handler);\r\n\r\n    return handler;\r\n}\r\n\r\nfunction offClickBlank(handler, events){\r\n    if (!handler) {\r\n        return;\r\n    }\r\n    events = events || 'click';\r\n    document.removeEventListener(events, handler);\r\n    handler = null;\r\n}\r\n\r\nexport { getXY, clickBlank, offClickBlank};"]}